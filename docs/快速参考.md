# DSP éŸ³é¢‘åˆ†æ - å¿«é€Ÿå‚è€ƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ¿€æ´»ç¯å¢ƒ
```powershell
conda activate dsp
```

### 2. è¿è¡Œä¸»åˆ†æ
```powershell
# ç¡®ä¿éŸ³é¢‘æ–‡ä»¶åœ¨å½“å‰ç›®å½•
python analyze_dbfs.py
```

### 3. åˆ†æ gate é˜ˆå€¼
```powershell
python analyze_gate_threshold.py
```

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
F:\TOMATIS\
â”œâ”€â”€ analyze_dbfs.py              # ä¸»åˆ†æè„šæœ¬
â”œâ”€â”€ analyze_gate_threshold.py    # Gate é˜ˆå€¼åˆ†æ
â”œâ”€â”€ test_environment.py          # ç¯å¢ƒéªŒè¯
â”œâ”€â”€ test_audio.py                # ç®€å•æµ‹è¯•
â”œâ”€â”€ å¸¸è§é—®é¢˜å’Œä¸‹ä¸€æ­¥.md          # é‡è¦æ–‡æ¡£
â”œâ”€â”€ é…ç½®å®Œæˆ.md                  # é…ç½®æ€»ç»“
â”œâ”€â”€ INSTALL_GUIDE.md             # å®‰è£…æŒ‡å—
â””â”€â”€ éŸ³é¢‘æ–‡ä»¶/
    â”œâ”€â”€ D_MNF.flac               # è¾“å…¥éŸ³é¢‘
    â”œâ”€â”€ Tomatis_D.flac           # Tomatis è¾“å‡º
    â””â”€â”€ matlab_D_15db_1000Hz_12db.flac  # Matlab è¾“å‡º
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### ç¯å¢ƒç®¡ç†
```powershell
# æ¿€æ´»ç¯å¢ƒ
conda activate dsp

# æŸ¥çœ‹å·²å®‰è£…çš„åŒ…
pip list

# æŸ¥çœ‹ conda ç¯å¢ƒ
conda env list
```

### éŸ³é¢‘è½¬æ¢
```powershell
# å•ä¸ªæ–‡ä»¶è½¬æ¢ä¸º 48kHz å•å£°é“ WAV
ffmpeg -i input.flac -ar 48000 -ac 1 -c:a pcm_s16le output.wav

# æ‰¹é‡è½¬æ¢
Get-ChildItem *.flac | ForEach-Object {
    ffmpeg -i $_.Name -ar 48000 -ac 1 -c:a pcm_s16le "$($_.BaseName).wav"
}
```

### Python å¿«é€Ÿæµ‹è¯•
```powershell
# æµ‹è¯• librosa
python -c "import librosa; print('Librosa:', librosa.__version__)"

# æµ‹è¯•éŸ³é¢‘è¯»å–
python -c "import soundfile as sf; x, sr = sf.read('audio.flac'); print(f'SR: {sr}, Length: {len(x)}')"
```

---

## ğŸ“Š åˆ†æå·¥ä½œæµ

### å®Œæ•´æµç¨‹
```
1. å‡†å¤‡éŸ³é¢‘æ–‡ä»¶
   â†“
2. è¿è¡Œ analyze_dbfs.py
   â†’ ç”Ÿæˆ CSV å’Œå›¾è¡¨
   â†“
3. è¿è¡Œ analyze_gate_threshold.py
   â†’ æ£€æµ‹åˆ‡æ¢ç‚¹ï¼Œä¼°è®¡é˜ˆå€¼
   â†“
4. æŸ¥çœ‹ç»“æœ
   â†’ CSV æ•°æ® + å¯è§†åŒ–å›¾è¡¨
```

### è¾“å‡ºæ–‡ä»¶
- `dbfs_matlab.csv` - Matlab è¾“å‡ºæ•°æ®
- `dbfs_tomatis.csv` - Tomatis è¾“å‡ºæ•°æ®
- `dbfs_matlab.png` - Matlab å¯¹æ¯”å›¾
- `dbfs_tomatis.png` - Tomatis å¯¹æ¯”å›¾
- `gate_analysis_Matlab.png` - Matlab gate åˆ†æ
- `gate_analysis_Tomatis.png` - Tomatis gate åˆ†æ

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. PowerShell åˆå§‹åŒ–
é¦–æ¬¡ä½¿ç”¨éœ€è¦è¿è¡Œï¼š
```powershell
conda init powershell
```
ç„¶åé‡å¯ç»ˆç«¯ã€‚

### 2. éŸ³é¢‘æ–‡ä»¶è·¯å¾„
ä¿®æ”¹ `analyze_dbfs.py` ä¸­çš„è·¯å¾„ï¼š
```python
input_path  = "ä½ çš„æ–‡ä»¶è·¯å¾„/D_MNF.flac"
tomatis_path = "ä½ çš„æ–‡ä»¶è·¯å¾„/Tomatis_D.flac"
matlab_path  = "ä½ çš„æ–‡ä»¶è·¯å¾„/matlab_D_15db_1000Hz_12db.flac"
```

### 3. dBFS è®¡ç®—è§„èŒƒ
- ä½¿ç”¨ `dtype="float32"` è¯»å–éŸ³é¢‘
- æ»¡å¹…å®šä¹‰ä¸º 1.0
- ä¸è¦æ‰‹åŠ¨å½’ä¸€åŒ–

---

## ğŸ” æ•…éšœæ’é™¤

### conda activate å¤±è´¥
```powershell
conda init powershell
# é‡å¯ç»ˆç«¯
```

### æ‰¾ä¸åˆ°éŸ³é¢‘æ–‡ä»¶
```powershell
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
Test-Path "D_MNF.flac"

# æŸ¥çœ‹å½“å‰ç›®å½•
Get-Location
```

### è„šæœ¬è¿è¡Œé”™è¯¯
```powershell
# ç¡®ä¿ç¯å¢ƒå·²æ¿€æ´»
conda activate dsp

# æ£€æŸ¥ Python ç‰ˆæœ¬
python --version

# é‡æ–°å®‰è£…åŒ…
pip install --upgrade numpy scipy soundfile librosa pandas matplotlib
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [å¸¸è§é—®é¢˜å’Œä¸‹ä¸€æ­¥.md](file:///F:/TOMATIS/å¸¸è§é—®é¢˜å’Œä¸‹ä¸€æ­¥.md) - è¯¦ç»†è¯´æ˜
- [é…ç½®å®Œæˆ.md](file:///F:/TOMATIS/é…ç½®å®Œæˆ.md) - ç¯å¢ƒé…ç½®
- [INSTALL_GUIDE.md](file:///F:/TOMATIS/INSTALL_GUIDE.md) - å®‰è£…æŒ‡å—
